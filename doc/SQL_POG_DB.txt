CREATE DATABASE pog_db;

USE pog_db;

----------

CREATE TABLE member(
    id INT AUTO_INCREMENT NOT NULL,
    first_name VARCHAR(20),
    last_name VARCHAR(20),
    email VARCHAR(50),
    PRIMARY KEY(id));

INSERT INTO member(first_name, last_name, email) VALUES('Lay', 'Heng', 'lay@gmail.com');
INSERT INTO member(first_name, last_name, email) VALUES('Zan', 'Wang', 'zan@gmail.com');
INSERT INTO member(first_name, last_name, email) VALUES('John', 'Johnson', 'john@gmail.com');

----------

CREATE TABLE non_member(
    id INT AUTO_INCREMENT NOT NULL,
    first_name VARCHAR(20),
    last_name VARCHAR(20),
    email VARCHAR(50),
    PRIMARY KEY(id));

INSERT INTO non_member(first_name, last_name, email) VALUES('Cat1', 'Cat', 'cat1@gmail.com');
INSERT INTO non_member(first_name, last_name, email) VALUES('Bird1', 'Bird', 'bird1@gmail.com');
INSERT INTO non_member(first_name, last_name, email) VALUES('Kinkon1', 'Kinkon', 'kinkon1@gmail.com');

-----------

create table pog_db.group(
     group_id int AUTO_INCREMENT NOT NULL,
     name VARCHAR(50),
     owner_id int,
     PRIMARY KEY (group_id),
     foreign key (owner_id) references member(id));


INSERT INTO pog_db.group(name, owner_id) VALUES('Fishing', 1); 
INSERT INTO pog_db.group(name, owner_id) VALUES('Sea Boat', 2);

-----------

CREATE TABLE gmlist(
    gid int,
    mid int,
    PRIMARY KEY (gid, mid),
    FOREIGN KEY (gid) REFERENCES pog_db.group(group_id) ON DELETE CASCADE,
    FOREIGN KEY (mid) REFERENCES member(id) ON DELETE CASCADE
    );

INSERT INTO gmlist VALUES(1, 1);
INSERT INTO gmlist VALUES(1, 4);

------------

